<!DOCTYPE html><html lang="en"><head><title>public/assets/js/admin/app</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../../"><meta name="groc-document-path" content="public/assets/js/admin/app"><meta name="groc-project-path" content="public/assets/js/admin/app.js"><link rel="stylesheet" type="text/css" media="all" href="../../../../assets/style.css"><script type="text/javascript" src="../../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path">public/assets/js/admin/app.js</div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper"><span class="hljs-pi">"use strict"</span>;angular.module(<span class="hljs-string">"adminApp"</span>,[<span class="hljs-string">"ngResource"</span>,<span class="hljs-string">"ngTouch"</span>,<span class="hljs-string">"ngRoute"</span>,<span class="hljs-string">"ngLocale"</span>,<span class="hljs-string">"pascalprecht.translate"</span>,<span class="hljs-string">"ui.bootstrap"</span>,<span class="hljs-string">"ui.utils"</span>]),angular.module(<span class="hljs-string">"adminApp"</span>).config([<span class="hljs-string">"$locationProvider"</span>,<span class="hljs-string">"$routeProvider"</span>,<span class="hljs-string">"$translateProvider"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($locationProvider,$routeProvider,$translateProvider)</span>{</span>$translateProvider.useStaticFilesLoader({prefix:<span class="hljs-string">"/assets/js/admin/i18n/"</span>,suffix:<span class="hljs-string">".json"</span>}),$translateProvider.preferredLanguage(<span class="hljs-string">"es"</span>),$locationProvider.hashPrefix(<span class="hljs-string">"!"</span>),$routeProvider.otherwise({redirectTo:<span class="hljs-string">"/"</span>})}]),angular.module(<span class="hljs-string">"adminApp"</span>).run([<span class="hljs-string">"$rootScope"</span>,<span class="hljs-string">"$location"</span>,<span class="hljs-string">"$translate"</span>,<span class="hljs-string">"$locale"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($rootScope,$location,$translate,$locale)</span>{</span>$rootScope.$location=$location,$rootScope.$translate=$translate,$rootScope.$locale=$locale}]),angular.module(<span class="hljs-string">"adminApp"</span>).factory(<span class="hljs-string">"UserService"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($resource)</span>{</span><span class="hljs-keyword">return</span> $resource(<span class="hljs-string">"/admin/users/:id"</span>,{id:<span class="hljs-string">"@_id"</span>},{update:{method:<span class="hljs-string">"PUT"</span>}})}),angular.module(<span class="hljs-string">"adminApp"</span>).factory(<span class="hljs-string">"$flash"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($rootScope)</span>{</span><span class="hljs-keyword">var</span> queue=[],show=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>queue.length&gt;<span class="hljs-number">0</span>?($rootScope.flash_message=queue[<span class="hljs-number">0</span>],queue.shift()):$rootScope.flash_message=<span class="hljs-literal">null</span>};<span class="hljs-keyword">return</span> $rootScope.$on(<span class="hljs-string">"$routeChangeSuccess"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>show()}),{show:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>show()},set:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(type,message)</span>{</span>console.log(<span class="hljs-string">"here-set"</span>),queue.push({type:type,message:message})}}}),angular.module(<span class="hljs-string">"adminApp"</span>).directive(<span class="hljs-string">"backButton"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">return</span>{restrict:<span class="hljs-string">"A"</span>,link:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(scope,element)</span>{</span>element.addClass(<span class="hljs-string">"back-button"</span>),element.bind(<span class="hljs-string">"click"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>window.history.back()})}}}),angular.module(<span class="hljs-string">"adminApp"</span>).directive(<span class="hljs-string">"ngMatch"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">return</span>{<span class="hljs-built_in">require</span>:<span class="hljs-string">"ngModel"</span>,scope:{ngMatch:<span class="hljs-string">"="</span>},link:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(scope)</span>{</span>scope.$parent.$watch(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>console.log(scope.ngMatch)})}}}),angular.module(<span class="hljs-string">"adminApp"</span>).config([<span class="hljs-string">"$routeProvider"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($routeProvider)</span>{</span>$routeProvider.when(<span class="hljs-string">"/"</span>,{templateUrl:<span class="hljs-string">"assets/js/admin/views/dashboard/index.html"</span>,controller:<span class="hljs-string">"DashboardCtrl"</span>})}]),angular.module(<span class="hljs-string">"adminApp"</span>).controller(<span class="hljs-string">"DashboardCtrl"</span>,[<span class="hljs-string">"$rootScope"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($rootScope)</span>{</span>$rootScope.current_section=<span class="hljs-string">"dashboard"</span>}]),angular.module(<span class="hljs-string">"adminApp"</span>).config([<span class="hljs-string">"$routeProvider"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($routeProvider)</span>{</span>$routeProvider.when(<span class="hljs-string">"/users"</span>,{templateUrl:<span class="hljs-string">"assets/js/admin/views/users/index.html"</span>,controller:<span class="hljs-string">"UsersIndexCtrl"</span>,resolve:{Users:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(UserService)</span>{</span><span class="hljs-keyword">return</span> UserService.query().$promise}}}).when(<span class="hljs-string">"/users/create"</span>,{templateUrl:<span class="hljs-string">"assets/js/admin/views/users/form.html"</span>,controller:<span class="hljs-string">"UsersFormCtrl"</span>,resolve:{User:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(UserService)</span>{</span><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> UserService}}}).when(<span class="hljs-string">"/users/edit/:id"</span>,{templateUrl:<span class="hljs-string">"assets/js/admin/views/users/form.html"</span>,controller:<span class="hljs-string">"UsersFormCtrl"</span>,resolve:{User:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(UserService,$route)</span>{</span><span class="hljs-keyword">return</span> UserService.get({id:$route.current.params.id}).$promise}}})}]),angular.module(<span class="hljs-string">"adminApp"</span>).controller(<span class="hljs-string">"UsersIndexCtrl"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($scope,$rootScope,$filter,$flash,$timeout,Users)</span>{</span>$rootScope.current_section=<span class="hljs-string">"users"</span>,$scope.users=Users,$scope.deleteUser=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($index)</span>{</span>confirm($filter(<span class="hljs-string">"translate"</span>)(<span class="hljs-string">"admin.are_you_sure"</span>))&amp;&amp;$scope.users[$index].$<span class="hljs-keyword">delete</span>(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>$flash.set(<span class="hljs-string">"success"</span>,<span class="hljs-string">"admin.object_has_been_removed"</span>),$flash.show(),$scope.users.splice($index,<span class="hljs-number">1</span>)})}}),angular.module(<span class="hljs-string">"adminApp"</span>).controller(<span class="hljs-string">"UsersFormCtrl"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($scope,$rootScope,$filter,$location,$flash,User)</span>{</span>$rootScope.current_section=<span class="hljs-string">"users"</span>,$scope.action=User._id?<span class="hljs-string">"editing"</span>:<span class="hljs-string">"creating"</span>,$scope.groups={<span class="hljs-number">2</span>:<span class="hljs-string">"admin"</span>,<span class="hljs-number">3</span>:<span class="hljs-string">"owner"</span>,<span class="hljs-number">4</span>:<span class="hljs-string">"customer"</span>},$scope.user=User,$scope.dateOptions={startingDay:<span class="hljs-number">1</span>,showWeeks:!<span class="hljs-number">1</span>,showButtonBar:!<span class="hljs-number">1</span>},$scope.openDatePicker=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>$scope.opened=!<span class="hljs-number">0</span>},<span class="hljs-number">1</span>===User.group&amp;&amp;($scope.groups[<span class="hljs-number">1</span>]=<span class="hljs-string">"root"</span>),$scope.saveUser=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>$scope.password&amp;&amp;($scope.user.password=$scope.password),$scope.user._id?$scope.user.$update(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>$flash.set(<span class="hljs-string">"success"</span>,<span class="hljs-string">"admin.changes_has_been_saved"</span>),$location.path(<span class="hljs-string">"/users"</span>)}):$scope.user.$save(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>$flash.set(<span class="hljs-string">"success"</span>,<span class="hljs-string">"admin.changes_has_been_saved"</span>),$location.path(<span class="hljs-string">"/users"</span>)})},$scope.cancel=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">return</span> $scope.form.$pristine||confirm($filter(<span class="hljs-string">"translate"</span>)(<span class="hljs-string">"admin.are_you_sure"</span>))?<span class="hljs-keyword">void</span> window.history.back():!<span class="hljs-number">1</span>}});</div></div></div></div></body></html>