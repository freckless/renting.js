<!DOCTYPE html><html lang="en"><head><title>libs/config</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../"><meta name="groc-document-path" content="libs/config"><meta name="groc-project-path" content="libs/config.js"><link rel="stylesheet" type="text/css" media="all" href="../assets/style.css"><script type="text/javascript" src="../assets/behavior.js"></script><body><div id="meta"><div class="file-path">libs/config.js</div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><h1 id="modulo-de-configuracins">Modulo de configuracións</h1></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Este módulo crease para poder cargalas configuracións dende calqueira parte
da aplicación sen a necesidade de crear variables globales.</p></div></div><div class="code"><div class="wrapper"><span class="hljs-pi">'use strict'</span>;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><h2 id="dependencias-do-mdulo">Dependencias do módulo</h2></div></div></div><div class="segment"><div class="code"><div class="wrapper"><span class="hljs-keyword">var</span> _ = <span class="hljs-built_in">require</span>(<span class="hljs-string">'lodash'</span>);</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><h2 id="exportamos-a-configuracin">Exportamos a configuración</h2>
<p>Configuramos todos os cartafols da app por defecto que engadiremos á configuración</p></div></div><div class="code"><div class="wrapper"><span class="hljs-keyword">var</span> root_path = global.root_path;
<span class="hljs-keyword">var</span> libs_path = root_path + <span class="hljs-string">'/libs'</span>;
<span class="hljs-keyword">var</span> app_path = root_path + <span class="hljs-string">'/app'</span>;
<span class="hljs-keyword">var</span> webroot_path = root_path + <span class="hljs-string">'/public'</span>;

<span class="hljs-keyword">var</span> paths = {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>common paths</p></div></div><div class="code"><div class="wrapper">    root: root_path,
    app: app_path,
    libs: libs_path,</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>config</p></div></div><div class="code"><div class="wrapper">    config: root_path + <span class="hljs-string">'/config'</span>,</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>libraries</p></div></div><div class="code"><div class="wrapper">    utils: root_path + <span class="hljs-string">'/utils'</span>,
    helpers: libs_path + <span class="hljs-string">'/helpers'</span>,
    components: libs_path + <span class="hljs-string">'/components'</span>,</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>app</p></div></div><div class="code"><div class="wrapper">    controllers: app_path + <span class="hljs-string">'/controllers'</span>,
    models: app_path + <span class="hljs-string">'/models'</span>,
    views: app_path + <span class="hljs-string">'/views'</span>,</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>public</p></div></div><div class="code"><div class="wrapper">    webroot: webroot_path,
    assets: webroot_path + <span class="hljs-string">'/assets'</span>,
};</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><h2 id="extendemos-a-configuracin-base-coa-configuracin-propia-do-entorno-e-a-exportamos">Extendemos a configuración base coa configuración propia do entorno e a exportamos</h2></div></div></div><div class="segment"><div class="code"><div class="wrapper">module.exports = _.extend(
    {paths: paths},
    <span class="hljs-built_in">require</span>(paths.config + <span class="hljs-string">'/config.js'</span>),
    <span class="hljs-built_in">require</span>(paths.config + <span class="hljs-string">'/env/'</span> + process.env.NODE_ENV + <span class="hljs-string">'.js'</span>)
);</div></div></div></div></body></html>